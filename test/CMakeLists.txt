set(CMAKE_MODULE_PATH "../cmake")

# Make sure the file can be compiled without errors
add_library(my_cmake_test)
target_link_libraries(my_cmake_test Qt5::Core)
include(ConfigurationCompiler)
compile_configuration(my_cmake_test demo.conf)

#macro(TEST NAME FILE)
	#add_executable(${NAME} ${FILE} )
	#target_link_libraries(${NAME} ${Boost_LIBRARIES} parser Qt5::Core)
	#target_link_libraries(${NAME} ${Boost_LIBRARIES} parser Qt5::Core)
	#add_test(NAME ${NAME} COMMAND  $<TARGET_FILE:${NAME}>)
#endmacro()

#enable_testing()
#add_definitions(-g)

## TEST(unittests unittests.cpp)

#add_custom_target(check COMMAND ${CMAKE_CTEST_COMMAND}
	#DEPENDS
        #pre-check
        #unittests
#)

#FILE(GLOB TESTS *.conf*)

#add_custom_target(pre-check  COMMAND cp ${TESTS} ${CMAKE_BINARY_DIR}/test)
